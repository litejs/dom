<!DOCTYPE html>
<html><head>
	<title>LiteJS DOM test</title>
	<link rel="icon" href="data:image/x-icon;,">
	<meta name="viewport" content="width=device-width,initial-scale=1">
</head><body id=d>
<pre id=r></pre>
<script src="data/lib.js"></script>
<script>
console.log("userAgent:", navigator.userAgent)
console.log("patched:", xhr._p.length + " " + xhr._p.join(", "))

describe.env = "browser"
describe.conf.brief = 1
describe.conf.stack = 2
describe.onend = function() {
	r.innerHTML = describe.output
}
var native = {
	CSSStyleDeclaration: function(str) {
		d.style = str
		return d.style
	}
}
require.def({
	fs: "exports.readFileSync = function(path, enc){var req=xhr('GET',path,true);req.send();return req.responseText}"
})
var files = ["../dom.js", "dom.js", "../css.js", "css.js"]
xhr.load(files, res => {
	require.def(res.reduce((m,s,i)=>(m[files[i]]=s,m), {}))
	require("dom.js")
	require("css.js")
}, true)
</script>
<noscript>This application requires JavaScript</noscript></body></html>
